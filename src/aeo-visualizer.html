<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{BRAND_NAME}} - AEO Analysis Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .tab-button {
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            color: #3b82f6 !important;
            border-bottom-color: #3b82f6 !important;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .pillar-bar {
            width: 100%;
            height: 8px;
            background-color: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .pillar-fill {
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .priority-p0 {
            border-left: 4px solid #ef4444;
            background-color: #fef2f2;
        }
        
        .priority-p1 {
            border-left: 4px solid #f59e0b;
            background-color: #fffbeb;
        }
        
        .priority-p2 {
            border-left: 4px solid #10b981;
            background-color: #f0fdf4;
        }
        
        .score-circle {
            stroke-dasharray: 440;
            stroke-dashoffset: {{SCORE_OFFSET}};
            transition: stroke-dashoffset 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-lg">
        <div class="container mx-auto px-6 py-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-gray-800">{{BRAND_NAME}} AEO Analysis</h1>
                    <p class="text-gray-600 mt-2">Comprehensive Answer Engine Optimization Report</p>
                </div>
                <div class="text-right">
                    <div class="text-sm text-gray-500">Generated on {{ANALYSIS_DATE}}</div>
                    <div class="text-2xl font-bold text-blue-600">{{TOTAL_SCORE}}/100</div>
                    <div class="text-sm text-gray-600">{{SCORE_CATEGORY}}</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <div class="bg-white shadow-sm border-b">
        <div class="container mx-auto px-6">
            <div class="flex space-x-8">
                <button class="tab-button py-4 px-6 font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600 active" data-tab="overview">
                    <i class="fas fa-tachometer-alt mr-2"></i>Overview
                </button>
                <button class="tab-button py-4 px-6 font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600" data-tab="queries">
                    <i class="fas fa-search mr-2"></i>Query Performance
                </button>
                <button class="tab-button py-4 px-6 font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600" data-tab="pillars">
                    <i class="fas fa-columns mr-2"></i>AEO Pillars
                </button>
                <button class="tab-button py-4 px-6 font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600" data-tab="recommendations">
                    <i class="fas fa-lightbulb mr-2"></i>Recommendations
                </button>
                <button class="tab-button py-4 px-6 font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600" data-tab="competitors">
                    <i class="fas fa-users mr-2"></i>Competitors
                </button>
                <button class="tab-button py-4 px-6 font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600" data-tab="strategy">
                    <i class="fas fa-chess mr-2"></i>Strategy
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-8">
        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">AEO Performance Overview</h2>
                <p class="text-gray-600">High-level insights into your Answer Engine Optimization performance</p>
            </div>

            <!-- Key Metrics -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="glass-card rounded-xl p-6 shadow-lg text-center">
                    <div class="text-3xl font-bold text-blue-600 mb-2">{{QUERIES_COUNT}}</div>
                    <div class="text-gray-600">Queries Analyzed</div>
                </div>
                <div class="glass-card rounded-xl p-6 shadow-lg text-center">
                    <div class="text-3xl font-bold text-green-600 mb-2">{{COMPETITOR_COUNT}}</div>
                    <div class="text-gray-600">Competitors</div>
                </div>
                <div class="glass-card rounded-xl p-6 shadow-lg text-center">
                    <div class="text-3xl font-bold text-purple-600 mb-2">{{AVG_GOOGLE_SCORE}}%</div>
                    <div class="text-gray-600">Avg Google Score</div>
                </div>
                <div class="glass-card rounded-xl p-6 shadow-lg text-center">
                    <div class="text-3xl font-bold text-orange-600 mb-2">{{AVG_AI_SCORE}}%</div>
                    <div class="text-gray-600">Avg AI Score</div>
                </div>
            </div>

            <!-- AEO Score Circle -->
            <div class="glass-card rounded-xl p-6 shadow-lg mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">Overall AEO Score</h3>
                <div class="flex justify-center">
                    <div class="relative w-48 h-48">
                        <svg class="w-48 h-48 transform -rotate-90" viewBox="0 0 160 160">
                            <circle cx="80" cy="80" r="70" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                            <circle cx="80" cy="80" r="70" stroke="#3b82f6" stroke-width="8" fill="none" 
                                    class="score-circle" stroke-linecap="round"/>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="text-center">
                                <div class="text-4xl font-bold text-gray-800">{{TOTAL_SCORE}}</div>
                                <div class="text-sm text-gray-600">out of 100</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AEO Pillars Overview -->
            <div class="glass-card rounded-xl p-6 shadow-lg mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-6">AEO Pillar Performance</h3>
                <div id="pillar-overview">
                    {{STATIC_PILLAR_CHART}}
                </div>
                
                <!-- AEO Pillar Definitions -->
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <h4 class="text-lg font-semibold text-gray-800 mb-4">AEO 기둥 정의</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-blue-800 mb-2">1. 온페이지 구조 (On-Page Structure)</h5>
                            <p class="text-gray-700">질문 기반 H2/H3 제목, 첫 번째 단락의 직접적인 답변(40-60자), 구조화된 표/목록, 그리고 사실적 밀도(숫자/날짜)에 중점을 둡니다.</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-purple-800 mb-2">2. E-E-A-T & 콘텐츠 품질 (Content Quality)</h5>
                            <p class="text-gray-700">경험(Experience), 전문성(Expertise), 권위성(Authoritativeness), 신뢰성(Trustworthiness) 신호를 평가하며, 저자 자격증명, 출처 인용, 콘텐츠 신선도, 정책 페이지를 포함합니다.</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-green-800 mb-2">3. 오프사이트 권위 (Off-Site Authority)</h5>
                            <p class="text-gray-700">미디어 언급, 커뮤니티 존재감, 전문가 인용, 그리고 웹 전반의 엔티티 일관성을 측정합니다.</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-yellow-800 mb-2">4. 기술 & 스키마 (Technical Foundation)</h5>
                            <p class="text-gray-700">Core Web Vitals, 모바일 최적화, 그리고 스키마 마크업(Organization, Article, FAQ, HowTo, Product)을 평가합니다.</p>
                        </div>
                        <div class="bg-red-50 p-4 rounded-lg md:col-span-2">
                            <h5 class="font-semibold text-red-800 mb-2">5. 직접 AEO 성과 (Direct AEO Performance)</h5>
                            <p class="text-gray-700">AI 개요 출현, 챗봇 추천/언급, 그리고 브랜드 검색량 증가를 추적합니다.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Opportunities -->
            <div class="glass-card rounded-xl p-6 shadow-lg">
                <h3 class="text-xl font-bold text-gray-800 mb-6">
                    <i class="fas fa-trophy mr-2 text-yellow-600"></i>Top Opportunities
                </h3>
                <div class="space-y-4" id="top-opportunities">
                    {{TOP_OPPORTUNITIES}}
                </div>
            </div>
        </div>

        <!-- Query Performance Tab -->
        <div id="queries" class="tab-content">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Query Performance Analysis</h2>
                <p class="text-gray-600">Detailed breakdown of performance across all analyzed queries</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6" id="query-performance-grid">
                {{QUERY_CARDS}}
            </div>
        </div>

        <!-- AEO Pillars Tab -->
        <div id="pillars" class="tab-content">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">AEO Pillars Deep Dive</h2>
                <p class="text-gray-600">Comprehensive analysis of all five AEO performance pillars</p>
            </div>

            <!-- AEO Pillar Definitions -->
            <div class="glass-card rounded-xl p-6 shadow-lg mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-6">AEO 기둥이란 무엇인가요?</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                        <h4 class="font-bold text-blue-800 mb-3 text-lg">1. 온페이지 구조 (On-Page Structure)</h4>
                        <p class="text-gray-700 mb-3">질문 기반 H2/H3 제목, 첫 번째 단락의 직접적인 답변(40-60자), 구조화된 표/목록, 그리고 사실적 밀도(숫자/날짜)에 중점을 둡니다.</p>
                        <div class="text-sm text-blue-600 font-semibold">최대 점수: 15점</div>
                    </div>
                    <div class="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-500">
                        <h4 class="font-bold text-purple-800 mb-3 text-lg">2. E-E-A-T & 콘텐츠 품질 (Content Quality)</h4>
                        <p class="text-gray-700 mb-3">경험(Experience), 전문성(Expertise), 권위성(Authoritativeness), 신뢰성(Trustworthiness) 신호를 평가하며, 저자 자격증명, 출처 인용, 콘텐츠 신선도, 정책 페이지를 포함합니다.</p>
                        <div class="text-sm text-purple-600 font-semibold">최대 점수: 25점</div>
                    </div>
                    <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                        <h4 class="font-bold text-green-800 mb-3 text-lg">3. 오프사이트 권위 (Off-Site Authority)</h4>
                        <p class="text-gray-700 mb-3">미디어 언급, 커뮤니티 존재감, 전문가 인용, 그리고 웹 전반의 엔티티 일관성을 측정합니다.</p>
                        <div class="text-sm text-green-600 font-semibold">최대 점수: 30점</div>
                    </div>
                    <div class="bg-yellow-50 p-6 rounded-lg border-l-4 border-yellow-500">
                        <h4 class="font-bold text-yellow-800 mb-3 text-lg">4. 기술 & 스키마 (Technical Foundation)</h4>
                        <p class="text-gray-700 mb-3">Core Web Vitals, 모바일 최적화, 그리고 스키마 마크업(Organization, Article, FAQ, HowTo, Product)을 평가합니다.</p>
                        <div class="text-sm text-yellow-600 font-semibold">최대 점수: 15점</div>
                    </div>
                    <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-500 md:col-span-2">
                        <h4 class="font-bold text-red-800 mb-3 text-lg">5. 직접 AEO 성과 (Direct AEO Performance)</h4>
                        <p class="text-gray-700 mb-3">AI 개요 출현, 챗봇 추천/언급, 그리고 브랜드 검색량 증가를 추적합니다.</p>
                        <div class="text-sm text-red-600 font-semibold">최대 점수: 15점</div>
                    </div>
                </div>
            </div>

            <!-- Pillar Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                {{PILLAR_CARDS}}
            </div>

            <!-- Detailed Pillar Analysis -->
            <div class="glass-card rounded-xl p-6 shadow-lg">
                <h3 class="text-xl font-bold text-gray-800 mb-6">Detailed Pillar Breakdown</h3>
                <div id="pillar-details">
                    {{PILLAR_DETAILS}}
                </div>
            </div>
        </div>

        <!-- Recommendations Tab -->
        <div id="recommendations" class="tab-content">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Actionable Recommendations</h2>
                <p class="text-gray-600">Prioritized improvements to boost your AEO performance</p>
            </div>

            <div class="space-y-6" id="recommendations-list">
                {{RECOMMENDATIONS_LIST}}
            </div>
        </div>

        <!-- Competitors Tab -->
        <div id="competitors" class="tab-content">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Competitor Analysis</h2>
                <p class="text-gray-600">Insights from analyzing top-performing competitor content</p>
            </div>

            <div id="competitor-analysis">
                {{COMPETITOR_ANALYSIS}}
            </div>
        </div>

        <!-- Strategy Tab -->
        <div id="strategy" class="tab-content">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Content Strategy</h2>
                <p class="text-gray-600">Personalized content recommendations for {{BRAND_NAME}}</p>
            </div>

            <div id="content-strategy">
                {{CONTENT_STRATEGY}}
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-6 text-center">
            <p class="text-gray-400">AEO Analysis Dashboard • Generated on {{ANALYSIS_DATE}} • Powered by Perpex AI</p>
        </div>
    </footer>

    <!-- JSON Data -->
    <script id="aeo-data" type="application/json">{{AEO_DATA}}</script>

    <!-- Main JavaScript -->
    <script>
        // Global data object
        let aeoData = JSON.parse(document.getElementById('aeo-data').textContent);
        
        // Tab functionality
        function initializeTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // Remove active class from all buttons and contents
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // Add active class to clicked button and corresponding content
                    this.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                    
                    console.log('Switched to tab:', targetTab);
                });
            });
        }
        
        // Initialize dashboard
        function initializeDashboard() {
            console.log('Initializing AEO Dashboard...');
            console.log('Data loaded:', aeoData ? 'Yes' : 'No');
            
            // Initialize tabs
            initializeTabs();
            
            // Set default active tab
            document.querySelector('[data-tab="overview"]').classList.add('active');
            document.getElementById('overview').classList.add('active');
            
            console.log('Dashboard initialized successfully');
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeDashboard);
    </script>
</body>
</html>